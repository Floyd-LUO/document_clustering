<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Document Clustering with Python by harrywang</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Document Clustering with Python</h1>
      <h2 class="project-tagline">text mining, clustering, and visualization </h2>
      <a href="https://github.com/harrywang/document_clustering" class="btn">View on GitHub</a>
      <a href="https://github.com/harrywang/document_clustering/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/harrywang/document_clustering/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="document-clustering-with-python" class="anchor" href="#document-clustering-with-python" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Document Clustering with Python</h2>

<p>This is my revision of the great tutorial at <a href="http://brandonrose.org/clustering">http://brandonrose.org/clustering</a> - many thanks to the author.</p>

<h2>
<a id="tldr" class="anchor" href="#tldr" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TL;DR</h2>

<p><strong>Data</strong>: Top 100 movies (<a href="http://www.imdb.com/list/ls055592025/">http://www.imdb.com/list/ls055592025/</a>) with title, genre, and synopsis (IMDB and Wiki)</p>

<p><strong>Goal</strong>: Put 100 movies into 5 clusters by text-mining their synopses and plot the result as follows</p>

<p><img width="771" alt="screenshot 2016-05-23 20 50 20" src="https://cloud.githubusercontent.com/assets/595772/15488829/5b863710-2128-11e6-843b-25aac76bd134.png"></p>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup</h2>

<p>First, clone the repo, go to the repo folder, setup the virtual environment, and install the required packages:</p>

<pre><code>git clone https://github.com/harrywang/document_clustering.git
cd document_clustering
virtualenv venv
source venv/bin/activate
pip install -r requirements.txt
</code></pre>

<p>Second, use nltk.download() to download all nltk packages, which are saved to /Users/harrywang/nltk_data</p>

<pre><code>ipython2
import nltk
nltk.download()
</code></pre>

<p>Lastly, view doc_clustering.ipynb directly on Github at <a href="https://github.com/harrywang/document_cluster/blob/master/doc_clustering.ipynb">https://github.com/harrywang/document_cluster/blob/master/doc_clustering.ipynb</a> or locally by running <code>ipython2 notebook</code> to learn the tutorial step-by-step.</p>

<h2>
<a id="key-steps" class="anchor" href="#key-steps" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Key Steps</h2>

<ol>
<li>
<strong>Read data</strong>: read titles, genres, synopses, rankings into four arrays</li>
<li>
<strong>Tokenize and stem</strong>: break paragraphs into sentences, then to words, stem the words (without removing stopwords) - each synopsis essentially becomes a bag of stemmed words.</li>
<li>
<strong>Generate tf-idf matrix</strong>: each row is a term (unigram, bigram, trigram...generated from the bag of words in 2.), each column is a synopsis.</li>
<li>
<strong>Generate clusters</strong>: based on the tf-idf matrix, 5 (or any number) clusters are generated using k-means. The top key terms are selected for each cluster.</li>
<li>
<strong>Calculate similarity</strong>: generate the cosine similarity matrix using the tf-idf matrix (100x100), then generate the distance matrix (1 - similarity matrix), so each pair of synopsis has a distance number between 0 and 1.</li>
<li>
<strong>Plot clusters</strong>: use multidimensional scaling (MDS) to convert distance matrix to a 2-dimensional array, each synopsis has (x, y) that represents their relative location based on the distance matrix. Plot the 100 points with their (x, y) using matplotlib (I added an example on using plotly.js).</li>
</ol>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/harrywang/document_clustering">Document Clustering with Python</a> is maintained by <a href="https://github.com/harrywang">harrywang</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
